\section{PAPI CUDA}

\begin{frame}
	\frametitle{PAPI CUDA}
	\begin{itemize}
		\item Uses CUPTI;
		\begin{itemize}
			\item Supposed to be a wrapper;
		\end{itemize}
		\vfill
		\item [+] Approach to GPU counters is similar to CPU;
		\vfill
		\item [-] Requires the same ``garbage'' code;
		\vfill
		\item Works best when used with CUPTI Callbacks;
		\begin{itemize}
			\item It should replace them;
			\item Tests performed only obtained the measurements for the global kernel;
			\begin{itemize}
				\item Subkernels were ignored;
				\item Highly verbose preparation does not allow to discard programmer error;
			\end{itemize}
		\end{itemize}
		\vfill
		\item \textbf{\larger No documentation at all available!}
	\end{itemize}
\end{frame}

\begin{frame}[fragile]
	\begin{columns}
		\column{0.45\textwidth}
			\textbf{Without callbacks:}
			\begin{verbatim}
				registerEventSet();
				loop {
				   kernel1<<<...>>>()
				   kernel2<<<...>>>();
				}
				getResults();
			\end{verbatim}
			\hfill

		\column{0.45\textwidth}
			\textbf{With callbacks:}
			\begin{verbatim}
				callback {
				   on_kernel_enter:
				      registerEventSet();
				   on_kernel_exit:
				      getResults();
				}

				loop {
				   kernel1<<<...>>>()
				   kernel2<<<...>>>();
				}
			\end{verbatim}

	\end{columns}

\end{frame}